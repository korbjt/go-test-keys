# Use Case
I frequently find myself needing keys for test cases. Generating keys during tests is slow, and loading them requires some boilerplate that always ends up in some helper function copied from package to package. This utility accepts a set of key specs and generates a go source file with the keys ready to use. 

This utility should never be used outside of the scope of testing. Never put keys used by your application in code, and never put them in source control.

## Install
   $ go get github.com/korbjt/go-test-keys

## Usage
```go
//go:generate go-test-keys -o keys_test.go -p mypkg priv:rsa:2048 other:rsa:4096

package mypkg

import (
	"testing"
)

func TestSomeCryptoFunction(t *testing.T) {
	if err := doWork(priv, other); err != nil {
		t.Fatal(err)
	}
}

```

## Output
```go
// Generated by go-test-keys. DO NOT EDIT.

package main

import (
	"crypto/rsa"
	"crypto/x509"
	"encoding/pem"
)

var (
	priv   *rsa.PrivateKey
	other *rsa.PrivateKey
)

func init() {
	parse := func(enc string) *rsa.PrivateKey {
		block, _ := pem.Decode([]byte(enc))
		key, _ := x509.ParsePKCS1PrivateKey(block.Bytes)
		return key
	}

	priv = parse(`
-----BEGIN RSA PRIVATE KEY-----
MIIEpAIBAAKCAQEAzsxYKO1Ttff+Xw2tjV4hJMmIImvu3+bsKwBK3eH49vj3IKGE
b5giPjz5wraeDG0XXSd+8gruUuVdimeLuItK/L0c1JeDz+VT3mhpZnLF+SQnC5SE
1nQFw8N8mc1Wg0PomnKgkbBXzeh5yWeB8Xm/RKGsZ2Ls4QeqGKhQ0WmBoilILkJ5
lHj5uKWe9Liw2WWHhbV947SvKm9hfkN7gJi+H9fRVlroJVnGh9LKfdHBTSDK/hei
7qKK2/G9/3rPxfAsu+zCDIkw4qBEWtBMbpG6S2wRFpxzClEluQI4pdsbSGe4tlzQ
gq4m+tW7OfuYfJD3cuGmfioG5PEhI4/gBG9r3QIDAQABAoIBAQCfW/sn9tNGbAga
qcivIvV5itAcbn5TDnm6HWyUFdosP+j4vV74PA1PVt/FO8MJoluZzqDV1rSXLudp
i6exG646m2UHModCAuAhiOaIKzQCbOil1NqVBC2ZESEIyKK9Xux1cJXqDzFqnJaV
LO2G7yIEum3H8gTG2IgsnjBBYAOkuLWAW9SuYzF9hcW0vCpnGWOB2O37eRRogBX7
PNEcFua3mgCpHuTiwn6vMYf8H5xZMhEVwXW4JRxv0aXTTYfCDbbrDWZiZVfHOGEJ
LvhueAaSDkx5sAT2D8JoEXuJBNgGwtv4B0sKuclG/Hoiap0BsgLNYflBFFroVuW3
u/nBB7iBAoGBAPlpfhfkrp63S46yraM5lkEbw+esidUE4gUYMVtLgqTYRjAvP2rc
gPO6/LD9M52MfhQrAZPYTpLwxNHgiec4+BXLzumV/EdC76AVRl91ZiBNDpKcz/6R
0zUym7xwKBDVUgQdwebufKM/vrQIHGHoqbCaIMB8VtOLYUko4DKzQ889AoGBANRC
sybesdEqTY/rFxDppqOKWP7P+OXOuk4sZtjwB/zUau0i8/tFeWHHMYSrAwp4Iap+
GLFBwUnqTZ06I7hFPs60r5pEdbx4px2gN9r4lxMLzxKTtXqb3B0+oPvIsYzgh7/T
FHEEfjgAQ0pA06dZ9u/8vp07LDJ6woISVGMGk9khAoGAQWSOYfdcbVLDpbtlWVl8
8r8z4ydS0B5CoHFSZ4xpyYzHAlUw/HSp/r11CXaptNIkMGeCN2BMYaxs/lYv8gb2
zMguDQJ9LbX4G/HYDKk8SJXLj1c8FZPoW5dUS9jgOGGl6lxe/Yxj822AM7W4s1cM
Prh6g91V6osty7/C4KgtzEUCgYEAigwDNhF5tl576VDtRHuhfBVbQgYCi3uC4Zqx
HQAnQcDo9edYpKAPjI8fXnhWVvXAd4DhEE+CpU70QYBxgMPQUGFlH8DMjdIuZe8w
xIIOxz1T5HIagm5hnsd/raFeEBBrWU+vqL1SVZueJ+m3fczd9ED9u4ajfQUoAa5o
IatCduECgYBhS2X6n9ITEF6oFzWVmtZ8haTyHrhA6W1Rqu3bnd3ve1l1vI1ZJVNc
GoCaDWknEHZImWslt9AwbT4h5B1SFRFDHSJbpF+J2uKtTRriH/pzzdmUGJuTKgDW
M7RxfCj7MbDZW4qxa2dn445Vr/4B2PtE47b0Ni5DVsLNuvOfdOG5mQ==
-----END RSA PRIVATE KEY-----
`)

	other = parse(`
-----BEGIN RSA PRIVATE KEY-----
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
-----END RSA PRIVATE KEY-----
`)

}
```